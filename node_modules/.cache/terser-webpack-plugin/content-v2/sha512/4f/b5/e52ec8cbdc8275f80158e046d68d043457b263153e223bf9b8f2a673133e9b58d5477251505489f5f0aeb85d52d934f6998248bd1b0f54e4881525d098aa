{"map":"{\"version\":3,\"sources\":[\"C:\\\\Users\\\\vlava\\\\Desktop\\\\SmartCoin\\\\tutorial1\\\\node_modules\\\\url-loader\\\\dist\\\\cjs.js??ref--6-oneOf-0!C:\\\\Users\\\\vlava\\\\Desktop\\\\SmartCoin\\\\tutorial1\\\\src\\\\panels\\\\click.png\",\"C:\\\\Users\\\\vlava\\\\Desktop\\\\SmartCoin\\\\tutorial1\\\\src\\\\panels\\\\Home.js\",\"C:\\\\Users\\\\vlava\\\\Desktop\\\\SmartCoin\\\\tutorial1\\\\src\\\\App.js\",\"C:\\\\Users\\\\vlava\\\\Desktop\\\\SmartCoin\\\\tutorial1\\\\src\\\\index.js\"],\"names\":[\"module\",\"exports\",\"__webpack_require__\",\"p\",\"Home\",\"_ref\",\"id\",\"balance\",\"go\",\"fetchedUser\",\"add1\",\"react_default\",\"a\",\"createElement\",\"vkui\",\"className\",\"style\",\"color\",\"align\",\"height\",\"src\",\"require\",\"onClick\",\"width\",\"alt\",\"App\",\"props\",\"_this\",\"Object\",\"classCallCheck\",\"this\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"e\",\"setState\",\"activePanel\",\"currentTarget\",\"dataset\",\"to\",\"getUsersTop\",\"getGroupsTop\",\"createUser\",\"asyncToGenerator\",\"regenerator_default\",\"mark\",\"_callee\",\"result\",\"wrap\",\"_context\",\"prev\",\"next\",\"axios\",\"get\",\"concat\",\"sent\",\"console\",\"log\",\"data\",\"user\",\"stop\",\"_x\",\"apply\",\"arguments\",\"updateUserBalance\",\"_ref2\",\"_callee2\",\"_context2\",\"userAcc\",\"_x2\",\"state\",\"popout\",\"closePopout\",\"bind\",\"assertThisInitialized\",\"_this2\",\"bridge\",\"send\",\"subscribe\",\"connect\",\"detail\",\"type\",\"title\",\"msg\",\"actions\",\"onClose\",\"panels_Home\",\"React\",\"Component\",\"ReactDOM\",\"render\",\"src_App\",\"document\",\"getElementById\"],\"mappings\":\"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\",\"sourcesContent\":[\"module.exports = __webpack_public_path__ + \\\"static/media/click.3df961b1.png\\\";\",\"import React from 'react';\\nimport PropTypes from 'prop-types';\\nimport { Panel, Div } from '@vkontakte/vkui';\\nimport './assets/css/background.css'\\nimport './assets/css/bootstrap.css';\\nimport './assets/css/style.css';\\nimport '@vkontakte/vkui/dist/vkui.css';\\t\\n\\n\\nconst Home = ({ id, go, fetchedUser, balance, add1 }) => (\\n\\t<Panel id={id}>\\n\\t\\t<Div>\\n\\t\\t\\t<div className=\\\"row\\\">\\n\\t\\t\\t\\t<div className=\\\"col-md-12\\\">\\n\\t\\t\\t\\t\\t<div className=\\\"text-center text-muted\\\">\\n\\t\\t\\t\\t\\t\\t<center><h1 style={{ color: \\\"gray-dark\\\" }}>{balance} SC</h1></center>\\n\\t\\t\\t\\t\\t</div>\\n                <div className=\\\"container\\\">\\n\\n                    <Div align=\\\"center\\\" style={{ height: \\\"315px\\\"}}>\\n                        <img className=\\\"clicked\\\" src={require('./click.png')} onClick={add1} width={250} height={250} alt=\\\"gege\\\" />\\n                    </Div>\\n                    \\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</Div>\\n\\t</Panel>\\n);\\n\\nHome.propTypes = {\\n\\tid: PropTypes.string.isRequired,\\n\\tgo: PropTypes.func.isRequired,\\n\\tshare: PropTypes.func,\\n\\tfetchedUser: PropTypes.shape({\\n\\t\\tphoto_200: PropTypes.string,\\n\\t\\tfirst_name: PropTypes.string,\\n\\t\\tlast_name: PropTypes.string,\\n\\t\\tcity: PropTypes.shape({\\n\\t\\t\\ttitle: PropTypes.string,\\n\\t\\t}),\\n\\t}),\\n};\\n\\nexport default Home;\\n\",\"import React from 'react';\\nimport connect from '@vkontakte/vkui-connect';\\nimport { View, Alert} from '@vkontakte/vkui';\\nimport '@vkontakte/vkui/dist/vkui.css';\\nimport Home from './panels/Home';\\nimport bridge from '@vkontakte/vk-bridge'\\nimport axios from 'axios'\\n\\nclass App extends React.Component {\\n\\tconstructor(props) {\\n\\t\\tsuper(props);\\n\\n\\t\\tthis.state = {\\n\\t\\t\\tactivePanel: 'home',\\n\\t\\t\\tfetchedUser: null,\\n\\t\\t\\tpopout: null,\\n            userAcc: null,\\n            balance: 0\\n\\t\\t};\\n\\t\\tthis.closePopout = this.closePopout.bind(this);\\n\\t}\\n\\n    go = (e) => {\\n\\t\\tthis.setState({ activePanel: e.currentTarget.dataset.to })\\n        if(e.currentTarget.dataset.to === \\\"top\\\") {\\n            this.getUsersTop();\\n            this.getGroupsTop();\\n        }\\n\\t}\\n\\n    componentDidMount() {\\n        bridge.send('VKWebAppInit');\\n        bridge.subscribe(e => console.log(e))\\n\\t\\tconnect.subscribe((e) => {\\n\\t\\t\\tswitch (e.detail.type) {\\n\\t\\t\\t\\tcase 'VKWebAppGetUserInfoResult':\\n                    this.setState({ fetchedUser: e.detail.data });\\n                    this.createUser(e.detail.data.id)\\n                    console.log(e.detail.data)\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase 'VKWebAppShowWallPostBoxResult':\\n\\n  \\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\tdefault:\\n\\t\\t\\t\\t\\tconsole.log(e.detail.type);\\n\\t\\t\\t}\\n\\t\\t});\\n\\t\\tconnect.send('VKWebAppGetUserInfo', {});\\n        // console.log(window.location)\\n\\t}\\n\\n\\topenDefault(title, msg, actions) {\\n        this.setState({\\n            popout:\\n                <Alert\\n                    actions={[actions]}\\n                    onClose={this.closePopout}\\n                >   \\n                    <h2>{title}</h2>\\n                    <p>{msg}</p>\\n                </Alert>\\n        });\\n    }\\n\\n    closePopout() {\\n        this.setState({ popout: null });\\n    }\\n\\n    createUser = async(id) => {\\n        let result = await axios.get(`http://localhost:3000/createUser?user_id=${id}`);\\n        console.log(result.data.user)\\n        this.setState({balance: result.data.user.balance})\\n    }\\n\\n    updateUserBalance = async(id) => {\\n        let result = await axios.get(`http://localhost:3000/updateUserBalance?user_id=${id}`);\\n        this.setState({userAcc: result.data.user})\\n        this.setState({balance: result.data.user.balance+1})\\n    }\\n\\n    add1 = () => {\\n        this.updateUserBalance(this.state.fetchedUser.id)\\n\\t}\\n\\t\\n    render() {\\n\\t\\treturn (\\n\\t\\t\\t<View popout={this.state.popout} activePanel={this.state.activePanel}>\\n                <Home id=\\\"home\\\" fetchedUser={this.state.fetchedUser} go={this.go} balance={this.state.balance} add1={this.add1} />\\n\\t\\t\\t</View>\\n\\t\\t);\\n\\t}\\n\\n}\\n\\nexport default App;\\n\",\"import 'core-js/es6/map';\\nimport 'core-js/es6/set';\\nimport React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport connect from '@vkontakte/vkui-connect';\\nimport App from './App';\\n// import registerServiceWorker from './sw';\\n\\n// Init VK App\\nconnect.send('VKWebAppInit', {});\\n\\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\\n// расскомментируйте строку с registerServiceWorker();\\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \\n// registerServiceWorker();\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){e.exports=a.p+\"static/media/click.3df961b1.png\"},150:function(e,t,a){\"use strict\";a.r(t);a(78),a(103);var n=a(0),c=a.n(n),r=a(36),s=a.n(r),o=a(18),l=a.n(o),i=a(20),u=a.n(i),d=a(37),p=a(72),h=a(73),f=a(75),m=a(74),b=a(76),v=a(19),g=a(10),E=(a(62),a(128),a(129),a(130),function(e){var t=e.id,n=(e.go,e.fetchedUser,e.balance),r=e.add1;return c.a.createElement(g.Panel,{id:t},c.a.createElement(g.Div,null,c.a.createElement(\"div\",{className:\"row\"},c.a.createElement(\"div\",{className:\"col-md-12\"},c.a.createElement(\"div\",{className:\"text-center text-muted\"},c.a.createElement(\"center\",null,c.a.createElement(\"h1\",{style:{color:\"gray-dark\"}},n,\" SC\"))),c.a.createElement(\"div\",{className:\"container\"},c.a.createElement(g.Div,{align:\"center\",style:{height:\"315px\"}},c.a.createElement(\"img\",{className:\"clicked\",src:a(131),onClick:r,width:250,height:250,alt:\"gege\"})))))))}),w=a(38),U=a.n(w),k=a(39),y=a.n(k),x=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(m.a)(t).call(this,e))).go=function(e){a.setState({activePanel:e.currentTarget.dataset.to}),\"top\"===e.currentTarget.dataset.to&&(a.getUsersTop(),a.getGroupsTop())},a.createUser=function(){var e=Object(d.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(\"http://localhost:3000/createUser?user_id=\".concat(t));case 2:n=e.sent,console.log(n.data.user),a.setState({balance:n.data.user.balance});case 5:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.updateUserBalance=function(){var e=Object(d.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(\"http://localhost:3000/updateUserBalance?user_id=\".concat(t));case 2:n=e.sent,a.setState({userAcc:n.data.user}),a.setState({balance:n.data.user.balance+1});case 5:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.add1=function(){a.updateUserBalance(a.state.fetchedUser.id)},a.state={activePanel:\"home\",fetchedUser:null,popout:null,userAcc:null,balance:0},a.closePopout=a.closePopout.bind(Object(v.a)(Object(v.a)(a))),a}return Object(b.a)(t,e),Object(h.a)(t,[{key:\"componentDidMount\",value:function(){var e=this;U.a.send(\"VKWebAppInit\"),U.a.subscribe(function(e){return console.log(e)}),l.a.subscribe(function(t){switch(t.detail.type){case\"VKWebAppGetUserInfoResult\":e.setState({fetchedUser:t.detail.data}),e.createUser(t.detail.data.id),console.log(t.detail.data);break;case\"VKWebAppShowWallPostBoxResult\":break;default:console.log(t.detail.type)}}),l.a.send(\"VKWebAppGetUserInfo\",{})}},{key:\"openDefault\",value:function(e,t,a){this.setState({popout:c.a.createElement(g.Alert,{actions:[a],onClose:this.closePopout},c.a.createElement(\"h2\",null,e),c.a.createElement(\"p\",null,t))})}},{key:\"closePopout\",value:function(){this.setState({popout:null})}},{key:\"render\",value:function(){return c.a.createElement(g.View,{popout:this.state.popout,activePanel:this.state.activePanel},c.a.createElement(E,{id:\"home\",fetchedUser:this.state.fetchedUser,go:this.go,balance:this.state.balance,add1:this.add1}))}}]),t}(c.a.Component);l.a.send(\"VKWebAppInit\",{}),s.a.render(c.a.createElement(x,null),document.getElementById(\"root\"))},77:function(e,t,a){e.exports=a(150)}},[[77,1,2]]]);","extractedComments":[]}