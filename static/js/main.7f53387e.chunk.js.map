{"version":3,"sources":["panels/click.png","panels/Home.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","Home","_ref","id","balance","go","fetchedUser","add1","react_default","a","createElement","vkui","className","style","color","align","height","src","require","onClick","width","alt","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","e","setState","activePanel","currentTarget","dataset","to","getUsersTop","getGroupsTop","createUser","asyncToGenerator","regenerator_default","mark","_callee","result","wrap","_context","prev","next","axios","get","concat","sent","console","log","data","user","stop","_x","apply","arguments","updateUserBalance","_ref2","_callee2","_context2","userAcc","_x2","state","popout","closePopout","bind","assertThisInitialized","_this2","bridge","send","subscribe","connect","detail","type","title","msg","actions","onClose","panels_Home","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.7f53387e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/click.3df961b1.png\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Panel, Div } from '@vkontakte/vkui';\nimport './assets/css/background.css'\nimport './assets/css/bootstrap.css';\nimport './assets/css/style.css';\nimport '@vkontakte/vkui/dist/vkui.css';\t\n\n\nconst Home = ({ id, go, fetchedUser, balance, add1 }) => (\n\t<Panel id={id}>\n\t\t<Div>\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-md-12\">\n\t\t\t\t\t<div className=\"text-center text-muted\">\n\t\t\t\t\t\t<center><h1 style={{ color: \"gray-dark\" }}>{balance} SC</h1></center>\n\t\t\t\t\t</div>\n                <div className=\"container\">\n\n                    <Div align=\"center\" style={{ height: \"315px\"}}>\n                        <img className=\"clicked\" src={require('./click.png')} onClick={add1} width={250} height={250} alt=\"gege\" />\n                    </Div>\n                    \n\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Div>\n\t</Panel>\n);\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tshare: PropTypes.func,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\nexport default Home;\n","import React from 'react';\nimport connect from '@vkontakte/vkui-connect';\nimport { View, Alert} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Home from './panels/Home';\nimport bridge from '@vkontakte/vk-bridge'\nimport axios from 'axios'\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'home',\n\t\t\tfetchedUser: null,\n\t\t\tpopout: null,\n            userAcc: null,\n            balance: 0\n\t\t};\n\t\tthis.closePopout = this.closePopout.bind(this);\n\t}\n\n    go = (e) => {\n\t\tthis.setState({ activePanel: e.currentTarget.dataset.to })\n        if(e.currentTarget.dataset.to === \"top\") {\n            this.getUsersTop();\n            this.getGroupsTop();\n        }\n\t}\n\n    componentDidMount() {\n        bridge.send('VKWebAppInit');\n        bridge.subscribe(e => console.log(e))\n\t\tconnect.subscribe((e) => {\n\t\t\tswitch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n                    this.setState({ fetchedUser: e.detail.data });\n                    this.createUser(e.detail.data.id)\n                    console.log(e.detail.data)\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'VKWebAppShowWallPostBoxResult':\n\n  \t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(e.detail.type);\n\t\t\t}\n\t\t});\n\t\tconnect.send('VKWebAppGetUserInfo', {});\n        // console.log(window.location)\n\t}\n\n\topenDefault(title, msg, actions) {\n        this.setState({\n            popout:\n                <Alert\n                    actions={[actions]}\n                    onClose={this.closePopout}\n                >   \n                    <h2>{title}</h2>\n                    <p>{msg}</p>\n                </Alert>\n        });\n    }\n\n    closePopout() {\n        this.setState({ popout: null });\n    }\n\n    createUser = async(id) => {\n        let result = await axios.get(`http://109.195.67.182:3002/createUser?user_id=${id}`);\n        console.log(result.data.user)\n        this.setState({balance: result.data.user.balance})\n    }\n\n    updateUserBalance = async(id) => {\n        let result = await axios.get(`http://109.195.67.182:3002/updateUserBalance?user_id=${id}`);\n        this.setState({userAcc: result.data.user})\n        this.setState({balance: result.data.user.balance+1})\n    }\n\n    add1 = () => {\n        this.updateUserBalance(this.state.fetchedUser.id)\n\t}\n\t\n    render() {\n\t\treturn (\n\t\t\t<View popout={this.state.popout} activePanel={this.state.activePanel}>\n                <Home id=\"home\" fetchedUser={this.state.fetchedUser} go={this.go} balance={this.state.balance} add1={this.add1} />\n\t\t\t</View>\n\t\t);\n\t}\n\n}\n\nexport default App;\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}